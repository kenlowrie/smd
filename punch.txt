Punch List Items.
-----------------

Priority 1 | p1
---------------
20. builtins.md collection of @imports instead of one file, so you can easily get what you want. I/P
27. rename livesmd.py -> smdlive. This is the one that should operate an endpoint
01. document the key elements (@var, @html, @link, @code, @image, etc.) -- use the "tests/in" files to make it "current".
02. remove all the old peekline, ... bs from the mainloop. we need to kiss. (may require additional helper.md files be added to overcome)
03. make the "defaults" make sense. i.e. cssfile, page title, etc.
**04. do I need to implement a scheme to handle "-f filename.md" config_default_file that gets loaded just before the html document processing? -i/--import
05. might be nice if you could pass a flag to tell it not to lstrip() blanks when loading the .html files
32. add --developer mode that enables certain flags (like debug=on), and some other builtins that are useful for debugging.
33. --developer mode should automatically run a bunch of commands that dump the environment, etc., so you can see what you have...

@import "[sys.imports]/def_head.md" twice in a row only works the first time.
The line caching logic is flawed. it returns all the lines one by one, then proceses the imports. wtf?
Should I use the python logging system for better control of debug messages and console output?

Need to be able to launch dual monitors (-m hostgui and -m browser)

Priority 2 | p2
---------------
1. Remove alias support. ability to [var]=value. You must use @var id="_" attr="x"
2. Remove bookmark support, unless I can think of how it could be used (for hyperlinks within the current doc, right?)
3. Remove all the CSS that relates to A/V scripts
4. Remove all special code relating to A/V scripts
9. Inline links and Reference links do not work. I think it's because you have to use @link to define links... Fix the docs.
10. Mailto links and Automatic links also do not seem to work. Fix the docs.
11. Link aliases don't work. Fix the docs.
12. Bookmark syntax is wrong. Fix the docs.
13. Cover, Revision & Contact are wrong. They are simply "builtins", right? Fix the docs. Move all these "authoring" extensions to an appropriate .md file.
14. Import: can I address the $ side effect? Perhaps with -d|--tld <top_level_path> for when stdin is used as top level?
15. Is varv2 a thing? Fix the docs. I think it is basic. and var., where basic. refers to aliases, and var refers to @var ...
22. SystemDefaults() needs some TLC. Think about dumping and where it's overidden. 
24. @dump defaults="." is kind of dumb. Rethink it, make it nicer and prettier to output.
25. in smdparse(), I should return an object with relevant info in it: list of files read, string representation of output?, other useful stuff.
30. maybe allow multiple cssfiles on command line xface of ismd and smdparse. Add them to the "watch" list.
31. maybe add a watchdir, watchlist or similar option(s)
34. release version 0.4.2 of the master repo (i.e. do a pull request from the specific branch.)
35. document using this with pipenv (possibly other "popular" python environment manager(s))
36. create an "early" sample that exposes an endpoint and/or localfile for use by OBS as POC.
37. how about a "vscode" plug-in/extension that would display in either HTML or "browser" mode. Is that possible? Priority?
38. 

Priority 5 | p5
---------------
8. Document the @embed "filename" support.
17. Document @debug, @debug key="re", @debug tags=""


Completed
---------
**5. Figure out how to implement the outer HTML Tag support
**6. Figure out how to implement the <head></head> support
**7. Implement the @embed support for inlining HTML, script, content, etc, without processing. [done]
**18. Update the modified event to only track changes to the specific files being updated, instead of entire directory.
**19. Use a thread to run the window mainloop, so Tk refreshes more often, like when you are dragging the scroll bar, etc. couldn't make this work, gave up for now.
**21. Review all the mindmaps, evernotes, etc., and make 1 consolidated list (here) of the things I need to be focused on.
**23. Implement the builtins.md and *-html.md loading in smd.py, then switch ismd to use smdparse instead of livesmd.
**26. Decide if the --load-default-builtins=Y|N, --load-user_bulitins=Y|N, etc., belong with smd.py, or an outer (livesmd, smdparse, ismd) script...
**28. add something to pull in "user-builtins.md", maybe in the ~ folder, as .smd-builtins
**29. cmdline switch to tell it to NOT load them, useful for testing, so we dont' introduce ambiguous variables.
**34. move doc.md testing code to other file. common.md and report.md
**35. Python 3.6 or later because we use f-strings
**36. Python 3.7 or later because it guarantees keys dictionary stays in insertion order




1. Finish up livesmd.py and release
4. Move all of these things to the issues tracker in github, and get rid of this file.

Bugs/Fixes Needed
-----------------
Look to see if I can make further improvements with speed. Cut down 40% of the calls
to markdown by only calling _md with lines that request the "marked_down" line...
Use python -m profile debug.py (debug.py loads and runs avscript -f ...)

Need ability to display error messages on ambiguous variable names.
@debug on="ns.add". Might need to spruce it up a bit. If you specify
a namespace, should this be okay? Because we rely on this for image.name
and var.name, as a way to create linked shots... 

Is the raw I have implemented any good? Or should I make it so it's done
in the namespaces module with an optional parameter, and then use @code
macros to access any element in raw form?

Remove unused code in .core module

Minor annoyance when dumping debug messages, during shots, the formatting
is getting messed up. Most likely due to somewhere we are not escaping HTML
output (maybe markdown, but that gets sketchy, so maybe not fixable)...

--------------------
Things to test:

Document:

Rainy Day Fixes/Changes:

Parenthesis inside a variable string doesn't parse correctly
For now, the solution is to use html entities (&lpar; and &rpar;)
e.g. [var.section(t="Scene 15 - Location S3:42 L:~8s (Ending Instrumental)")]

Fix bug where ' inside a string [var.attr(a="this doesnâ€™t work")]
--workaround use &apos;

Can I change the HTML formatting from before hand to on the backend, when I actually output?
That would enable me to more readily detect unbalanced tags
And I could format the output so it's nice and easy to read.

